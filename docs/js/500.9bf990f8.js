(self["webpackChunkcrossroads"]=self["webpackChunkcrossroads"]||[]).push([[500],{3500:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>we});var a=o(3673);const l=(0,a.Uk)(" Crossroads ");function s(e,r,o,s,t,n){const u=(0,a.up)("q-toolbar-title"),d=(0,a.up)("q-toolbar"),i=(0,a.up)("q-header"),m=(0,a.up)("drawer-menu"),c=(0,a.up)("footer-controls"),p=(0,a.up)("router-view"),g=(0,a.up)("q-page-container"),w=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(w,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"mobile-only bg-header-footer"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"text-center"},{default:(0,a.w5)((()=>[l])),_:1})])),_:1})])),_:1}),(0,a.Wm)(m,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":r[1]||(r[1]=r=>e.leftDrawerOpen=r),bordered:"",dark:"",class:"text-white"},null,8,["modelValue"]),(0,a.Wm)(c,{onOpenMenu:e.toggleLeftDrawer},null,8,["onOpenMenu"]),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p)])),_:1})])),_:1})}var t=o(1959);function n(e,r,o,l,s,t){const n=(0,a.up)("login-register"),u=(0,a.up)("user-card"),d=(0,a.up)("drawer-menu-item"),i=(0,a.up)("q-list"),m=(0,a.up)("q-drawer"),c=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(m,(0,a.dG)(e.$attrs,{class:"bg-drawer column justify-between no-wrap",side:"right",ref:"drawer"}),{default:(0,a.w5)((()=>[e.isUserLoggedIn?((0,a.wg)(),(0,a.j4)(u,{key:1})):((0,a.wg)(),(0,a.j4)(n,{key:0})),(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(d,{label:"Reset",icon:"loop",onClick:e.resetCrossroads},null,8,["onClick"]),[[c]]),(0,a.Wm)(d,{label:"Filter",icon:"filter_alt"})])),_:1})])),_:1},16)}var u=o(7874),d=o(2323);function i(e,r,o,l,s,t){const n=(0,a.up)("q-icon"),u=(0,a.up)("q-item-section"),i=(0,a.up)("q-item-label"),m=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(m,(0,a.dG)(e.$attrs,{clickable:""}),{default:(0,a.w5)((()=>[(0,a.Wm)(u,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{name:e.icon},null,8,["name"])])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,d.zw)(e.label),1)])),_:1})])),_:1})])),_:1},16)}const m=(0,a.aZ)({props:{label:{type:String},icon:{type:String}}});var c=o(3414),p=o(2035),g=o(4554),w=o(2350),f=o(7518),v=o.n(f);m.render=i;const b=m;v()(m,"components",{QItem:c.Z,QItemSection:p.Z,QIcon:g.Z,QItemLabel:w.Z});const $={class:"row justify-end"},W={class:"row justify-end"};function I(e,r,o,l,s,t){const n=(0,a.up)("q-tab"),u=(0,a.up)("q-tabs"),d=(0,a.up)("base-input"),i=(0,a.up)("q-btn"),m=(0,a.up)("q-tab-panel"),c=(0,a.up)("q-tab-panels"),p=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(p,{class:"bg-drawer",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:e.tab,"onUpdate:modelValue":r[1]||(r[1]=r=>e.tab=r),class:"col-grow"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{name:"login",label:"Login"}),(0,a.Wm)(n,{name:"register",label:"Register"})])),_:1},8,["modelValue"]),e.isClosed?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(c,{key:0,modelValue:e.tab,"onUpdate:modelValue":r[8]||(r[8]=r=>e.tab=r),animated:"",class:"bg-drawer"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{name:"login",class:"q-gutter-y-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:e.v$.loginInfo.email.$model,"onUpdate:modelValue":r[2]||(r[2]=r=>e.v$.loginInfo.email.$model=r),error:e.v$.loginInfo.email.$error,"error-message":e.getErrorMessage(e.v$.loginInfo.email.$errors),label:"Email"},null,8,["modelValue","error","error-message"]),(0,a.Wm)(d,{modelValue:e.v$.loginInfo.password.$model,"onUpdate:modelValue":r[3]||(r[3]=r=>e.v$.loginInfo.password.$model=r),error:e.v$.loginInfo.password.$error,"error-message":e.getErrorMessage(e.v$.loginInfo.password.$errors),label:"Password",type:"password"},null,8,["modelValue","error","error-message"]),(0,a.Wm)("div",$,[(0,a.Wm)(i,{color:"red-10",icon:"arrow_forward",size:"1em",flat:"",onClick:e.loginUser},null,8,["onClick"])])])),_:1}),(0,a.Wm)(m,{name:"register",class:"q-gutter-y-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:e.v$.registerInfo.email.$model,"onUpdate:modelValue":r[4]||(r[4]=r=>e.v$.registerInfo.email.$model=r),error:e.v$.registerInfo.email.$error,"error-message":e.getErrorMessage(e.v$.registerInfo.email.$errors),label:"Email"},null,8,["modelValue","error","error-message"]),(0,a.Wm)(d,{modelValue:e.v$.registerInfo.username.$model,"onUpdate:modelValue":r[5]||(r[5]=r=>e.v$.registerInfo.username.$model=r),modelModifiers:{lazy:!0},error:e.v$.registerInfo.username.$error,"error-message":e.getErrorMessage(e.v$.registerInfo.username.$errors),label:"Username"},null,8,["modelValue","error","error-message"]),(0,a.Wm)(d,{modelValue:e.v$.registerInfo.password.$model,"onUpdate:modelValue":r[6]||(r[6]=r=>e.v$.registerInfo.password.$model=r),error:e.v$.registerInfo.password.$error,"error-message":e.getErrorMessage(e.v$.registerInfo.password.$errors),label:"Password",type:"password"},null,8,["modelValue","error","error-message"]),(0,a.Wm)(d,{modelValue:e.registerInfo.confirm,"onUpdate:modelValue":r[7]||(r[7]=r=>e.registerInfo.confirm=r),rules:[r=>e.passwordsMatch||"Passwords don't match"],label:"Confirm Password",type:"password"},null,8,["modelValue","rules"]),(0,a.Wm)("div",W,[(0,a.Wm)(i,{color:"red-10",icon:"arrow_forward",size:"1em",flat:"",onClick:e.registerUser},null,8,["onClick"])])])),_:1})])),_:1},8,["modelValue"]))])),_:1})}var h=o(7191),C=o(515),_=o.n(C),Z=(o(7280),o(8308));const q=e=>e.length?e[0].$message:"",k=_()(_()({},Z.C1),{},{$message:"Field is required"}),U=_()(_()({},Z.Do),{},{$message:"Invalid email"}),Q={$message:"4-16 characters. Valid: a-z A-Z 0-9 _",$params:{type:"username"},$validator:e=>{const r=/^[a-zA-Z0-9_]{4,16}$/g;return e.match(r)}},V={$message:"6-16 characters. Valid: a-z A-Z 0-9 _ ! @ # $ % ^ & *",$params:{type:"password"},$validator:e=>{const r=/^[a-zA-Z0-9_!@#$%^&*]{6,16}$/g;return e.match(r)}};function y(e,r,o,l,s,t){const n=(0,a.up)("q-input");return(0,a.wg)(),(0,a.j4)(n,(0,a.dG)(e.$attrs,{color:"yellow-14",dark:"",dense:"","hide-bottom-space":"",outlined:""}),null,16)}const M=(0,a.aZ)({setup(e){return{}}});var x=o(6805);M.render=y;const L=M;v()(M,"components",{QInput:x.Z});const P=(0,a.aZ)({components:{BaseInput:L},setup(){const e=(0,t.iH)("login"),r=(0,a.Fl)((()=>""===e.value)),o=()=>{e.value=""},l=(0,t.iH)({email:"",password:""}),s=(0,t.iH)({email:"",username:"",password:"",confirm:""}),n=(0,a.Fl)((()=>s.value.password===s.value.confirm)),d=(0,u.oR)(),i={loginInfo:{email:{vRequired:k,vEmail:U},password:{vRequired:k,vPassword:V}},registerInfo:{email:{vRequired:k,vEmail:U},username:{vRequired:k,vUsername:Q},password:{vRequired:k,vPassword:V}}},m=(0,h.Xw)(i,{loginInfo:l,registerInfo:s}),c=()=>{m.value.loginInfo.$touch(),m.value.loginInfo.$invalid||d.dispatch("loginUser",l.value)},p=()=>{m.value.registerInfo.$touch(),!m.value.registerInfo.$invalid&&n&&d.dispatch("registerUser",s.value)};return{v$:m,getErrorMessage:q,tab:e,isClosed:r,registerInfo:s,passwordsMatch:n,closeLoginRegister:o,loginUser:c,registerUser:p}}});var j=o(151),F=o(7547),R=o(3269),z=o(5906),B=o(6602),D=o(2165);P.render=I;const E=P;v()(P,"components",{QCard:j.Z,QTabs:F.Z,QTab:R.Z,QTabPanels:z.Z,QTabPanel:B.Z,QBtn:D.Z});const T=(0,a.Uk)("Settings"),H=(0,a.Uk)("Logout");function O(e,r,o,l,s,t){const n=(0,a.up)("q-item-label"),u=(0,a.up)("q-item-section"),d=(0,a.up)("q-item"),i=(0,a.up)("q-list"),m=(0,a.up)("q-btn-dropdown"),c=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(c,{class:"bg-drawer",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{label:e.currentUser.username,class:"full-width",icon:"account_circle","dropdown-icon":"expand_more","auto-close":"",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"bg-drawer text-white no-shadow",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"text-center"},{default:(0,a.w5)((()=>[T])),_:1})])),_:1})])),_:1}),(0,a.Wm)(d,{clickable:"",onClick:e.logoutUser},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"text-center"},{default:(0,a.w5)((()=>[H])),_:1})])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["label"])])),_:1})}const N=(0,a.aZ)({setup(){const e=(0,u.oR)(),r=(0,a.Fl)((()=>e.getters.getCurrentUser)),o=()=>e.dispatch("logoutUser");return{currentUser:r,logoutUser:o}}});var S=o(3046),A=o(7011);N.render=O;const G=N;v()(N,"components",{QCard:j.Z,QBtnDropdown:S.Z,QList:A.Z,QItem:c.Z,QItemSection:p.Z,QItemLabel:w.Z});const X=(0,a.aZ)({components:{DrawerMenuItem:b,LoginRegister:E,UserCard:G},setup(){const e=(0,u.oR)(),r=(0,a.Fl)((()=>e.getters.isUserLoggedIn)),o=(0,t.iH)(null),l=()=>{e.dispatch("resetCrossroads"),o.value.hide()};return{isUserLoggedIn:r,drawer:o,resetCrossroads:l}}});var J=o(7667),K=o(677);X.render=n;const Y=X;v()(X,"components",{QDrawer:J.Z,QList:A.Z}),v()(X,"directives",{ClosePopup:K.Z});const ee={class:"col-4"},re=(0,a.Uk)(" Crossroads "),oe={class:"col-4 row justify-center items-center no-wrap"},ae={class:"q-px-md text-no-wrap"},le={class:"col-4 row justify-end"};function se(e,r,o,l,s,t){const n=(0,a.up)("q-toolbar-title"),u=(0,a.up)("q-btn"),i=(0,a.up)("q-toolbar"),m=(0,a.up)("q-footer");return(0,a.wg)(),(0,a.j4)(m,{class:"bg-header-footer"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)("div",ee,[(0,a.Wm)(n,{class:"mobile-hide"},{default:(0,a.w5)((()=>[re])),_:1})]),(0,a.Wm)("div",oe,[(0,a.Wm)(u,{icon:e.disablePrevButton?"pan_tool":"chevron_left",flat:"",round:"",disable:e.disablePrevButton,onClick:e.showPrevCard},null,8,["icon","disable","onClick"]),(0,a.Wm)("div",ae,(0,d.zw)(e.counter+1)+" / "+(0,d.zw)(e.cardMax),1),(0,a.Wm)(u,{icon:e.disableNextButton?"pan_tool":"chevron_right",flat:"",round:"",disable:e.disableNextButton,onClick:e.showNextCard},null,8,["icon","disable","onClick"])]),(0,a.Wm)("div",le,[(0,a.Wm)(u,{flat:"",dense:"",round:"",icon:"settings","aria-label":"Settings",onClick:e.emitOpenMenu},null,8,["onClick"])])])),_:1})])),_:1})}const te=(0,a.aZ)({name:"FooterControls",setup(e,{emit:r}){const o=(0,u.oR)(),l=(0,a.Fl)((()=>o.getters.getFilteredCards.length)),s=(0,a.Fl)((()=>o.getters.getCounter)),t=(0,a.Fl)((()=>s.value<1)),n=()=>o.dispatch("showPrevCard"),d=(0,a.Fl)((()=>s.value>=l.value-1)),i=()=>o.dispatch("showNextCard"),m=()=>{r("openMenu")};return{cardMax:l,counter:s,disablePrevButton:t,showPrevCard:n,disableNextButton:d,showNextCard:i,emitOpenMenu:m}}});var ne=o(1762),ue=o(9570),de=o(3747);te.render=se;const ie=te;v()(te,"components",{QFooter:ne.Z,QToolbar:ue.Z,QToolbarTitle:de.Z,QBtn:D.Z});const me=(0,a.aZ)({name:"MainLayout",components:{DrawerMenu:Y,FooterControls:ie},setup(){const e=(0,t.iH)(!1);return{leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value}}}});var ce=o(9214),pe=o(3812),ge=o(2652);me.render=s;const we=me;v()(me,"components",{QLayout:ce.Z,QHeader:pe.Z,QToolbar:ue.Z,QToolbarTitle:de.Z,QPageContainer:ge.Z})}}]);